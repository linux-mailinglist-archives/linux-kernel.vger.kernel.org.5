Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 0EBE378547B
	for <lists+linux-kernel@lfdr.de>; Wed, 23 Aug 2023 11:45:25 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231881AbjHWJpX (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 23 Aug 2023 05:45:23 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:37118 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229786AbjHWJoM (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 23 Aug 2023 05:44:12 -0400
Received: from jari.cn (unknown [218.92.28.115])
        by lindbergh.monkeyblade.net (Postfix) with ESMTP id 72E7ACFE
        for <linux-kernel@vger.kernel.org>; Wed, 23 Aug 2023 02:43:01 -0700 (PDT)
Received: from chenxuebing$jari.cn ( [125.70.163.142] ) by
 ajax-webmail-localhost.localdomain (Coremail) ; Wed, 23 Aug 2023 17:42:36
 +0800 (GMT+08:00)
X-Originating-IP: [125.70.163.142]
Date:   Wed, 23 Aug 2023 17:42:36 +0800 (GMT+08:00)
X-CM-HeaderCharset: UTF-8
From:   "XueBing Chen" <chenxuebing@jari.cn>
To:     alexander.deucher@amd.com, airlied@gmail.com, daniel@ffwll.ch
Cc:     amd-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org,
        linux-kernel@vger.kernel.org
Subject: [PATCH] drm/amdgpu/sdma4: Clean up errors in sdma_v4_0.c
X-Priority: 3
X-Mailer: Coremail Webmail Server Version 2023.1-cmXT6 build
 20230419(ff23bf83) Copyright (c) 2002-2023 www.mailtech.cn
 mispb-4e503810-ca60-4ec8-a188-7102c18937cf-zhkzyfz.cn
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=UTF-8
MIME-Version: 1.0
Message-ID: <762fb7bf.629.18a21c6446a.Coremail.chenxuebing@jari.cn>
X-Coremail-Locale: zh_CN
X-CM-TRANSID: AQAAfwDnhD+M1OVkJHCQAA--.451W
X-CM-SenderInfo: hfkh05pxhex0nj6mt2flof0/1tbiAQAMCmTkgo0AVgALsV
X-Coremail-Antispam: 1Ur529EdanIXcx71UUUUU7IcSsGvfJ3iIAIbVAYjsxI4VWxJw
        CS07vEb4IE77IF4wCS07vE1I0E4x80FVAKz4kxMIAIbVAFxVCaYxvI4VCIwcAKzIAtYxBI
        daVFxhVjvjDU=
X-Spam-Status: No, score=2.2 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_BLOCKED,
        RCVD_IN_PBL,RDNS_NONE,T_SPF_HELO_PERMERROR,T_SPF_PERMERROR,XPRIO
        autolearn=no autolearn_force=no version=3.4.6
X-Spam-Level: **
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Rml4IHRoZSBmb2xsb3dpbmcgZXJyb3JzIHJlcG9ydGVkIGJ5IGNoZWNrcGF0Y2g6CgpFUlJPUjog
dGhhdCBvcGVuIGJyYWNlIHsgc2hvdWxkIGJlIG9uIHRoZSBwcmV2aW91cyBsaW5lCkVSUk9SOiBz
cGFjZXMgcmVxdWlyZWQgYXJvdW5kIHRoYXQgJz8nIChjdHg6VnhXKQpFUlJPUjogc3BhY2UgcmVx
dWlyZWQgYmVmb3JlIHRoZSBvcGVuIHBhcmVudGhlc2lzICcoJwoKU2lnbmVkLW9mZi1ieTogWHVl
QmluZyBDaGVuIDxjaGVueHVlYmluZ0BqYXJpLmNuPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjRfMC5jIHwgMTggKysrKysrKy0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdl
ZCwgNyBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NkbWFfdjRfMC5jCmluZGV4IGNkMzdmNDVlMDFhMS4uY2ZjZDE1Zjc3YTg5IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwpAQCAtMTUyLDggKzE1Miw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2dvbGRlbiBnb2xkZW5fc2V0dGluZ3Nfc2RtYTBfNF8y
X2luaXRbXSA9IHsKIAlTT0MxNV9SRUdfR09MREVOX1ZBTFVFKFNETUEwLCAwLCBtbVNETUEwX1JM
QzBfUkJfV1BUUl9QT0xMX0NOVEwsIDB4ZmZmZmZmZjAsIDB4MDA0MDMwMDApLAogfTsKIAotc3Rh
dGljIGNvbnN0IHN0cnVjdCBzb2MxNV9yZWdfZ29sZGVuIGdvbGRlbl9zZXR0aW5nc19zZG1hMF80
XzJbXSA9Ci17CitzdGF0aWMgY29uc3Qgc3RydWN0IHNvYzE1X3JlZ19nb2xkZW4gZ29sZGVuX3Nl
dHRpbmdzX3NkbWEwXzRfMltdID0gewogCVNPQzE1X1JFR19HT0xERU5fVkFMVUUoU0RNQTAsIDAs
IG1tU0RNQTBfQ0hJQ0tFTl9CSVRTLCAweGZlOTMxZjA3LCAweDAyODMxZjA3KSwKIAlTT0MxNV9S
RUdfR09MREVOX1ZBTFVFKFNETUEwLCAwLCBtbVNETUEwX0NMS19DVFJMLCAweGZmZmZmZmZmLCAw
eDNmMDAwMTAwKSwKIAlTT0MxNV9SRUdfR09MREVOX1ZBTFVFKFNETUEwLCAwLCBtbVNETUEwX0dC
X0FERFJfQ09ORklHLCAweDAwMDA3NzNmLCAweDAwMDA0MDAyKSwKQEAgLTIxMywyMCArMjEyLDE3
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2dvbGRlbiBnb2xkZW5fc2V0dGluZ3Nf
c2RtYTFfNF8yW10gPSB7CiAJU09DMTVfUkVHX0dPTERFTl9WQUxVRShTRE1BMSwgMCwgbW1TRE1B
MV9VVENMMV9USU1FT1VULCAweGZmZmZmZmZmLCAweDAwMDEwMDAxKSwKIH07CiAKLXN0YXRpYyBj
b25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2dvbGRlbiBnb2xkZW5fc2V0dGluZ3Nfc2RtYV9ydjFbXSA9
Ci17CitzdGF0aWMgY29uc3Qgc3RydWN0IHNvYzE1X3JlZ19nb2xkZW4gZ29sZGVuX3NldHRpbmdz
X3NkbWFfcnYxW10gPSB7CiAJU09DMTVfUkVHX0dPTERFTl9WQUxVRShTRE1BMCwgMCwgbW1TRE1B
MF9HQl9BRERSX0NPTkZJRywgMHgwMDE4NzczZiwgMHgwMDAwMDAwMiksCiAJU09DMTVfUkVHX0dP
TERFTl9WQUxVRShTRE1BMCwgMCwgbW1TRE1BMF9HQl9BRERSX0NPTkZJR19SRUFELCAweDAwMTg3
NzNmLCAweDAwMDAwMDAyKQogfTsKIAotc3RhdGljIGNvbnN0IHN0cnVjdCBzb2MxNV9yZWdfZ29s
ZGVuIGdvbGRlbl9zZXR0aW5nc19zZG1hX3J2MltdID0KLXsKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
c29jMTVfcmVnX2dvbGRlbiBnb2xkZW5fc2V0dGluZ3Nfc2RtYV9ydjJbXSA9IHsKIAlTT0MxNV9S
RUdfR09MREVOX1ZBTFVFKFNETUEwLCAwLCBtbVNETUEwX0dCX0FERFJfQ09ORklHLCAweDAwMTg3
NzNmLCAweDAwMDAzMDAxKSwKIAlTT0MxNV9SRUdfR09MREVOX1ZBTFVFKFNETUEwLCAwLCBtbVNE
TUEwX0dCX0FERFJfQ09ORklHX1JFQUQsIDB4MDAxODc3M2YsIDB4MDAwMDMwMDEpCiB9OwogCi1z
dGF0aWMgY29uc3Qgc3RydWN0IHNvYzE1X3JlZ19nb2xkZW4gZ29sZGVuX3NldHRpbmdzX3NkbWFf
YXJjdFtdID0KLXsKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2dvbGRlbiBnb2xkZW5f
c2V0dGluZ3Nfc2RtYV9hcmN0W10gPSB7CiAJU09DMTVfUkVHX0dPTERFTl9WQUxVRShTRE1BMCwg
MCwgbW1TRE1BMF9DSElDS0VOX0JJVFMsIDB4ZmU5MzFmMDcsIDB4MDI4MzFmMDcpLAogCVNPQzE1
X1JFR19HT0xERU5fVkFMVUUoU0RNQTAsIDAsIG1tU0RNQTBfR0JfQUREUl9DT05GSUcsIDB4MDAw
MDc3M2YsIDB4MDAwMDQwMDIpLAogCVNPQzE1X1JFR19HT0xERU5fVkFMVUUoU0RNQTAsIDAsIG1t
U0RNQTBfR0JfQUREUl9DT05GSUdfUkVBRCwgMHgwMDAwNzczZiwgMHgwMDAwNDAwMiksCkBAIC0x
MTAwLDcgKzEwOTYsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y0XzBfZ2Z4X3Jlc3VtZShzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwgdW5zaWduZWQgaW50IGkpCiAJd3B0cl9wb2xsX2NudGwgPSBS
UkVHMzJfU0RNQShpLCBtbVNETUEwX0dGWF9SQl9XUFRSX1BPTExfQ05UTCk7CiAJd3B0cl9wb2xs
X2NudGwgPSBSRUdfU0VUX0ZJRUxEKHdwdHJfcG9sbF9jbnRsLAogCQkJCSAgICAgICBTRE1BMF9H
RlhfUkJfV1BUUl9QT0xMX0NOVEwsCi0JCQkJICAgICAgIEYzMl9QT0xMX0VOQUJMRSwgYW1kZ3B1
X3NyaW92X3ZmKGFkZXYpPyAxIDogMCk7CisJCQkJICAgICAgIEYzMl9QT0xMX0VOQUJMRSwgYW1k
Z3B1X3NyaW92X3ZmKGFkZXYpID8gMSA6IDApOwogCVdSRUczMl9TRE1BKGksIG1tU0RNQTBfR0ZY
X1JCX1dQVFJfUE9MTF9DTlRMLCB3cHRyX3BvbGxfY250bCk7CiAKIAkvKiBlbmFibGUgRE1BIFJC
ICovCkBAIC0xMTg2LDcgKzExODIsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y0XzBfcGFnZV9yZXN1
bWUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIGludCBpKQogCXdwdHJfcG9s
bF9jbnRsID0gUlJFRzMyX1NETUEoaSwgbW1TRE1BMF9QQUdFX1JCX1dQVFJfUE9MTF9DTlRMKTsK
IAl3cHRyX3BvbGxfY250bCA9IFJFR19TRVRfRklFTEQod3B0cl9wb2xsX2NudGwsCiAJCQkJICAg
ICAgIFNETUEwX1BBR0VfUkJfV1BUUl9QT0xMX0NOVEwsCi0JCQkJICAgICAgIEYzMl9QT0xMX0VO
QUJMRSwgYW1kZ3B1X3NyaW92X3ZmKGFkZXYpPyAxIDogMCk7CisJCQkJICAgICAgIEYzMl9QT0xM
X0VOQUJMRSwgYW1kZ3B1X3NyaW92X3ZmKGFkZXYpID8gMSA6IDApOwogCVdSRUczMl9TRE1BKGks
IG1tU0RNQTBfUEFHRV9SQl9XUFRSX1BPTExfQ05UTCwgd3B0cl9wb2xsX2NudGwpOwogCiAJLyog
ZW5hYmxlIERNQSBSQiAqLwpAQCAtMTI0Niw3ICsxMjQyLDcgQEAgc3RhdGljIHZvaWQgc2RtYV92
NF8xX2luaXRfcG93ZXJfZ2F0aW5nKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCS8qIENv
bmZpZ3VyZSBzd2l0Y2ggdGltZSBmb3IgaHlzdGVyZXNpcyBwdXJwb3NlLiBVc2UgZGVmYXVsdCBy
aWdodCBub3cgKi8KIAlkYXRhICY9IH5TRE1BMF9QT1dFUl9DTlRMX19PTl9PRkZfU1RBVFVTX0RV
UkFUSU9OX1RJTUVfTUFTSzsKIAlkYXRhIHw9IChtbVNETUEwX1BPV0VSX0NOVExfREVGQVVMVCAm
IFNETUEwX1BPV0VSX0NOVExfX09OX09GRl9TVEFUVVNfRFVSQVRJT05fVElNRV9NQVNLKTsKLQlp
ZihkYXRhICE9IGRlZikKKwlpZiAoZGF0YSAhPSBkZWYpCiAJCVdSRUczMihTT0MxNV9SRUdfT0ZG
U0VUKFNETUEwLCAwLCBtbVNETUEwX1BPV0VSX0NOVEwpLCBkYXRhKTsKIH0KIAotLSAKMi4xNy4x
Cg==

Return-Path: <linux-kernel+bounces-7168-lists+linux-kernel=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [139.178.88.99])
	by mail.lfdr.de (Postfix) with ESMTPS id D41A081A28D
	for <lists+linux-kernel@lfdr.de>; Wed, 20 Dec 2023 16:31:25 +0100 (CET)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 90CDB284064
	for <lists+linux-kernel@lfdr.de>; Wed, 20 Dec 2023 15:31:24 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id EB98D41206;
	Wed, 20 Dec 2023 15:30:14 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=lwn.net header.i=@lwn.net header.b="Kw1wxf67"
X-Original-To: linux-kernel@vger.kernel.org
Received: from ms.lwn.net (ms.lwn.net [45.79.88.28])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 9C5AC40BF6;
	Wed, 20 Dec 2023 15:30:11 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=lwn.net
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=lwn.net
Received: from localhost (unknown [IPv6:2601:280:5e00:7e19::646])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ms.lwn.net (Postfix) with ESMTPSA id A081E7F5;
	Wed, 20 Dec 2023 15:30:04 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 ms.lwn.net A081E7F5
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=lwn.net; s=20201203;
	t=1703086204; bh=YawMH4mnDVp5dlJ1MoqNij8zTvIQj/L8VFRVp62WP78=;
	h=From:To:Cc:Subject:In-Reply-To:References:Date:From;
	b=Kw1wxf67x71WyVA+qkcLF6GASINccn4wPs592qctDPGgBLTCu7lcUV7Lvdk7pnNXG
	 4lC8ohk4+CulvBA/7JGMB2yo/otNdj48oCt1bjvBxRkFxvReiIqGYkiIWc5CipoW5F
	 /7DxBZZ8KHl9yydBo87VBVwozWDNMPeQpMCS7alNVSCp4OGzQYj2OzqtYzx0oVNZjK
	 s+hq3zbWNm5gHtX46smLuATkM82Q58NY8Ug08OfcIFkfpE67XrTXGRwVhDMaDY5hJq
	 QTHgZR5EUOyPjx8WUEFP25/QwZZQWW2rsWcms3VuVe6UseQOtvs0id+k0htFmo3VKw
	 5KRSJP7v0eOuQ==
From: Jonathan Corbet <corbet@lwn.net>
To: Muhammad Muzammil <m.muzzammilashraf@gmail.com>, rdunlap@infradead.org,
 gustavoars@kernel.org
Cc: linux-doc@vger.kernel.org, linux-kernel@vger.kernel.org,
 linux-hardening@vger.kernel.org, Muzammil Ashraf
 <m.muzzammilashraf@gmail.com>
Subject: Re: [PATCH] scripts: kernel-doc: Bug fixed for erroneous warning
In-Reply-To: <20231220062446.14511-1-muzammil@dreambigsemi.com>
References: <20231220062446.14511-1-muzammil@dreambigsemi.com>
Date: Wed, 20 Dec 2023 08:30:03 -0700
Message-ID: <87edfggadg.fsf@meer.lwn.net>
Precedence: bulk
X-Mailing-List: linux-kernel@vger.kernel.org
List-Id: <linux-kernel.vger.kernel.org>
List-Subscribe: <mailto:linux-kernel+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kernel+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Type: text/plain

Muhammad Muzammil <m.muzzammilashraf@gmail.com> writes:

> From: Muzammil Ashraf <m.muzzammilashraf@gmail.com>
>
> kernel-doc: fixed erroneous warning generated by '__counted_by'
>
> Signed-off-by: Muzammil Ashraf <m.muzzammilashraf@gmail.com>
> ---
>  scripts/kernel-doc | 1 +
>  1 file changed, 1 insertion(+)
>
> diff --git a/scripts/kernel-doc b/scripts/kernel-doc
> index 1484127db104..ea9688df0e93 100755
> --- a/scripts/kernel-doc
> +++ b/scripts/kernel-doc
> @@ -1661,6 +1661,7 @@ sub check_sections($$$$$) {
>  			}
>  			elsif (($decl_type eq "struct") or
>  		       	       ($decl_type eq "union")) {
> +                next if (index("@_", "__counted_by") != -1);
>  				emit_warning("${file}:$.",
>  					"Excess $decl_type member " .
>  					"'$sects[$sx]' " .

Could you give an example of the warnings that this patch addresses?
I've not seen any caused by __counted_by since f600c77aeaff was applied
to docs-next.  What did it miss?

Thanks,

jon


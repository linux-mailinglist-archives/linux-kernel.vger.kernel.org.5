Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id A4769776001
	for <lists+linux-kernel@lfdr.de>; Wed,  9 Aug 2023 14:59:11 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231787AbjHIM7I (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 9 Aug 2023 08:59:08 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:46576 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S231368AbjHIM7I (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 9 Aug 2023 08:59:08 -0400
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
        by lindbergh.monkeyblade.net (Postfix) with ESMTP id 372ED1FF5;
        Wed,  9 Aug 2023 05:59:07 -0700 (PDT)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
        by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 316F8D75;
        Wed,  9 Aug 2023 05:59:49 -0700 (PDT)
Received: from [10.57.1.30] (unknown [10.57.1.30])
        by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 6B7773F6C4;
        Wed,  9 Aug 2023 05:59:03 -0700 (PDT)
Message-ID: <a4e55994-aa8e-572a-edb2-ac91046e5d08@arm.com>
Date:   Wed, 9 Aug 2023 13:59:01 +0100
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.9.0
Subject: Re: [PATCH v4 4/6] perf vendor events arm64: Update scale units and
 descriptions of common topdown metrics
To:     John Garry <john.g.garry@oracle.com>,
        linux-perf-users@vger.kernel.org, irogers@google.com,
        renyu.zj@linux.alibaba.com
Cc:     Will Deacon <will@kernel.org>, Mike Leach <mike.leach@linaro.org>,
        Leo Yan <leo.yan@linaro.org>,
        Peter Zijlstra <peterz@infradead.org>,
        Ingo Molnar <mingo@redhat.com>,
        Arnaldo Carvalho de Melo <acme@kernel.org>,
        Mark Rutland <mark.rutland@arm.com>,
        Alexander Shishkin <alexander.shishkin@linux.intel.com>,
        Jiri Olsa <jolsa@kernel.org>,
        Namhyung Kim <namhyung@kernel.org>,
        Adrian Hunter <adrian.hunter@intel.com>,
        Suzuki K Poulose <suzuki.poulose@arm.com>,
        Kajol Jain <kjain@linux.ibm.com>,
        Kan Liang <kan.liang@linux.intel.com>,
        Nick Forrington <nick.forrington@arm.com>,
        Eduard Zingerman <eddyz87@gmail.com>,
        Rob Herring <robh@kernel.org>, linux-kernel@vger.kernel.org,
        linux-arm-kernel@lists.infradead.org, coresight@lists.linaro.org
References: <20230807142138.288713-1-james.clark@arm.com>
 <20230807142138.288713-5-james.clark@arm.com>
 <6c8c46f0-b567-68c8-2ce7-3d1a8a21569b@oracle.com>
Content-Language: en-US
From:   James Clark <james.clark@arm.com>
In-Reply-To: <6c8c46f0-b567-68c8-2ce7-3d1a8a21569b@oracle.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Spam-Status: No, score=-2.7 required=5.0 tests=BAYES_00,NICE_REPLY_A,
        RCVD_IN_DNSWL_BLOCKED,SPF_HELO_NONE,SPF_NONE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org



On 08/08/2023 09:46, John Garry wrote:
> On 07/08/2023 15:20, James Clark wrote:
>> Metrics will be published here [1] going forwards, but they have
>> slightly different scale units. To allow autogenerated metrics to be
>> added more easily, update the scale units to match.
>>
>> The more detailed descriptions have also been taken and added to the
>> common file.
> 
> It's unfortunate that we can't have a concise description - like which
> we have now - and a full description.
> 
>>
> 
> Anyway,
> Reviewed-by: John Garry <john.g.garry@oracle.com>
> 

Yes unfortunately in the source data the metric short description
("title") pretty much just matches the metric name but without
underscores. For that reason we chose not to use it for Perf's short
description otherwise the list command showed a lot of duplication.

  "frontend_bound": {
    "title": "Frontend Bound",
    "description": "This metric is the percentage of...

The PMU events on the other hand do have a short description in the
title field rather than just repeating the name:

  ITLB_WALK": {
    "code": "0x0035",
    "title": "Instruction TLB access with at least one translation table
walk",
    "description": "Counts instruction memory translation table walks
caused by a miss in the L2...

I can raise this internally as it does seem to be a bit of an inconsistency.

James
